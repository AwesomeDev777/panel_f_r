(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5367],{51757:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/setting/role/new",function(){return n(7646)}])},16862:function(e,t,n){"use strict";n.d(t,{M:function(){return o},A:function(){return s}});var r=n(78764),a=n.n(r),i=n(77630),c=n.n(i),o=c()(a().mixin({customClass:{confirmButton:"btn btn-label-success btn-wide mx-1",cancelButton:"btn btn-label-danger btn-wide mx-1"},buttonsStyling:!1})),s=c()(a().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}))},7646:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(85893),a=n(67294),i=n(59417),c=n(35666),o=n.n(c),s=n(6154),l=n(16862),u=n(62286),d=n(28367);function h(e,t,n,r,a,i,c){try{var o=e[i](c),s=o.value}catch(l){return void n(l)}o.done?t(s):Promise.resolve(s).then(r,a)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=n(44364),b=function(){var e={Authorization:(0,u.parseCookies)().admintoken},t=f(a.useState(""),2),n=t[0],c=t[1],b=f(a.useState(""),2),m=b[0],j=b[1],k=f(a.useState([{View_Own:!1},{View_Global:!1},{Create:!1},{Edit:!1},{Delete:!1}]),2),p=k[0],C=k[1],w=f(a.useState([{View_Global:!1},{Create:!1},{Edit:!1},{Delete:!1}]),2),g=w[0],y=w[1],v=f(a.useState(.1),2),_=v[0],E=v[1],S=f(a.useState(.1),2),D=S[0],N=S[1],V=f(a.useState({name:""}),2),O=V[0],A=V[1];a.useEffect((function(){j(JSON.stringify({contract:p,staff:g}))}),[n,_,D]);var G,X=(G=o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={name:n,permissions:m},t.next=3,s.Z.post(d.IS,r,{headers:e}).then((function(e){l.A.fire({icon:"success",title:"Success!"})})).catch((function(e){var t={name:""};!x(e.response.data.name)&&(t.name=e.response.data.name),A(t)}));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=G.apply(e,t);function i(e){h(a,n,r,i,c,"next",e)}function c(e){h(a,n,r,i,c,"throw",e)}i(void 0)}))}),B=function(e,t){switch(t){case"contract":for(var n=p,r=0;r<n.length;r++)Object.keys(n[r])==e.target.name&&(n[r][e.target.name]=!n[r][e.target.name]);C(n),E(Math.random());break;case"staff":for(var a=g,i=0;i<a.length;i++)Object.keys(a[i])==e.target.name&&(a[i][e.target.name]=!a[i][e.target.name]);y(a),N(Math.random())}};return(0,r.jsx)(i.X2,{children:(0,r.jsx)(i.JX,{md:"6",children:(0,r.jsxs)(i.kr,{children:[(0,r.jsx)(i.kr.Header,{bordered:!0,children:(0,r.jsx)(i.kr.Addon,{children:(0,r.jsx)("h4",{children:"* New Role"})})}),(0,r.jsxs)(i.kr.Body,{children:[(0,r.jsxs)(i.l0.Group,{controlId:"nameID",children:[(0,r.jsx)(i.l0.Label,{children:"* Role Name"}),(0,r.jsx)(i.l0.Control,{onChange:function(e){return c(e.target.value)},type:"text",size:"lg"}),(0,r.jsx)("p",{style:{color:"red"},children:O.name})]}),(0,r.jsx)("p",{}),(0,r.jsxs)(i.iA,{bordered:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Feature"}),(0,r.jsx)("th",{children:"Capabilities"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Contract"}),(0,r.jsxs)("td",{children:[(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"cntown",name:"View_Own",onChange:function(e){return B(e,"contract")},label:"View (Own)"}),(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"cntglobal",name:"View_Global",onChange:function(e){return B(e,"contract")},label:"View (Global)"}),(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"cntcreate",name:"Create",onChange:function(e){return B(e,"contract")},label:"Create"}),(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"cntEdit",name:"Edit",onChange:function(e){return B(e,"contract")},label:"Edit"}),(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"cntDelete",name:"Delete",onChange:function(e){return B(e,"contract")},label:"Delete"})]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Staff"}),(0,r.jsxs)("td",{children:[(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"staffglobal",name:"View_Global",onChange:function(e){return B(e,"staff")},label:"View (Global)"}),(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"staffCreate",name:"Create",onChange:function(e){return B(e,"staff")},label:"Create"}),(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"staffEdit",name:"Edit",onChange:function(e){return B(e,"staff")},label:"Edit"}),(0,r.jsx)(i.l0.Check,{type:"checkbox",id:"staffDelete",name:"Delete",onChange:function(e){return B(e,"staff")},label:"Delete"})]})]})]})]})]}),(0,r.jsx)(i.kr.Footer,{children:(0,r.jsx)(i.kr.Footer,{bordered:!0,align:"end",children:(0,r.jsx)(i.zx,{onClick:X,type:"submit",variant:"primary",children:"Submit"})})})]})})})},m=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.X2,{children:(0,r.jsx)(i.JX,{md:12,children:(0,r.jsx)(b,{})})})})};m.pageTitle="New Role",m.activeLink="admin/setting/role/new";var j=m}},function(e){e.O(0,[1039,9774,2888,179],(function(){return t=51757,e(e.s=t);var t}));var t=e.O();_N_E=t}]);