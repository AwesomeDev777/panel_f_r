(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8389],{15537:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/accounting/chart/new",function(){return t(29095)}])},16862:function(e,n,t){"use strict";t.d(n,{M:function(){return i},A:function(){return u}});var a=t(78764),r=t.n(a),c=t(77630),o=t.n(c),i=o()(r().mixin({customClass:{confirmButton:"btn btn-label-success btn-wide mx-1",cancelButton:"btn btn-label-danger btn-wide mx-1"},buttonsStyling:!1})),u=o()(r().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}))},29095:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var a=t(85893),r=t(67294),c=t(59417),o=t(35666),i=t.n(o),u=t(6154),s=t(16862),l=t(62286),d=t(6519),p=t(28367);function h(e,n,t,a,r,c,o){try{var i=e[c](o),u=i.value}catch(s){return void t(s)}i.done?n(u):Promise.resolve(u).then(a,r)}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(t.push(o.value),!n||t.length!==n);a=!0);}catch(u){r=!0,c=u}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=t(44364),y=function(){var e={Authorization:(0,l.parseCookies)().admintoken},n=f(r.useState(""),2),t=n[0],o=n[1],y=f(r.useState(""),2),_=y[0],j=y[1],m=f(r.useState(""),2),v=m[0],g=m[1],b=f(r.useState(""),2),w=b[0],C=b[1],S=f(r.useState(),2),I=S[0],k=S[1],A=f(r.useState(0),2),N=A[0],X=A[1],D=f(r.useState(),2),E=D[0],z=D[1],L=f(r.useState({}),2),P=L[0],B=L[1],G=f(r.useState({account:"",account_type:"",account_type_detail:"",name:""}),2),J=G[0],T=G[1],Z=f(r.useState([]),2),F=Z[0],O=Z[1],q=f(r.useState(),2),H=q[0],M=(q[1],{color:"red"});r.useEffect((function(){u.Z.get(p.l2+"/1/0",{headers:e}).then((function(e){for(var n=[],t=0;t<e.data.all.length;t++)n.push({value:e.data.all[t]._id,label:e.data.all[t].name});O(n)})).catch((function(e){var n={account:"",account_type:"",account_type_detail:"",name:""};!x(e.response.data.account)&&(n.account=e.response.data.account),T(n)}))}),[]),r.useEffect((function(){B({account_type:t,account_type_detail:_,name:v,description:w,balance:N,balance_as_of:E,parent_account:I})}),[t,_,v,w,N,E,I]);var K,Q=(K=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.post(p.eC,P,{headers:e}).then((function(e){s.A.fire({icon:"success",title:"Success"}),T({account:"",account_type:"",account_type_detail:"",name:""})})).catch((function(e){var n={account_type:"",account_type_detail:"",account:"",name:""};console.log(e),!x(e.response.data.account_type)&&(n.account_type=e.response.data.account_type),!x(e.response.data.account_type_detail)&&(n.account_type_detail=e.response.data.account_type_detail),!x(e.response.data.name)&&(n.name=e.response.data.name),T(n)}));case 2:case"end":return n.stop()}}),n)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var r=K.apply(e,n);function c(e){h(r,t,a,c,o,"next",e)}function o(e){h(r,t,a,c,o,"throw",e)}c(void 0)}))});return(0,a.jsx)(c.X2,{children:(0,a.jsx)(c.JX,{md:"6",children:(0,a.jsxs)(c.kr,{children:[(0,a.jsx)(c.kr.Header,{bordered:!0,children:(0,a.jsx)(c.kr.Addon,{children:(0,a.jsx)("h4",{children:"New Account"})})}),(0,a.jsx)(c.kr.Body,{children:(0,a.jsxs)("div",{className:"d-grid gap-3",children:[(0,a.jsxs)(c.l0.Group,{controlId:"accounttypeID",children:[(0,a.jsx)(c.l0.Label,{children:"* Account type"}),(0,a.jsx)(c.l0.Control,{onChange:function(e){return o(e.target.value)},type:"text",size:"lg"}),(0,a.jsx)("p",{style:M,children:J.account_type})]}),(0,a.jsxs)(c.l0.Group,{controlId:"accounttypedetailID",children:[(0,a.jsx)(c.l0.Label,{children:"* Account type detail"}),(0,a.jsx)(c.l0.Control,{onChange:function(e){return j(e.target.value)},type:"text",size:"lg"}),(0,a.jsx)("p",{style:M,children:J.account_type_detail})]}),(0,a.jsxs)(c.l0.Group,{controlId:"nameID",children:[(0,a.jsx)(c.l0.Label,{children:"* Name"}),(0,a.jsx)(c.l0.Control,{onChange:function(e){return g(e.target.value)},type:"text",size:"lg"}),(0,a.jsx)("p",{style:M,children:J.name})]}),(0,a.jsxs)(c.X2,{children:[(0,a.jsx)(c.JX,{children:(0,a.jsxs)(c.l0.Group,{controlId:"balanceID",children:[(0,a.jsx)(c.l0.Label,{children:" Balance"}),(0,a.jsx)(c.l0.Control,{onChange:function(e){return X(parseInt(e.target.value))},type:"number",size:"lg"})]})}),(0,a.jsx)(c.JX,{children:(0,a.jsxs)(c.l0.Group,{controlId:"balanceasofID",children:[(0,a.jsx)(c.l0.Label,{children:" as of"}),(0,a.jsx)(c.l0.Control,{onChange:function(e){return z(new Date(e.target.value))},type:"date",size:"lg"})]})})]}),(0,a.jsx)("div",{className:"dropdown-container",children:(0,a.jsx)(d.ZP,{options:F,placeholder:"Select Parent Account",value:H,onChange:function(e){k(e.value)},isSearchable:!0,instanceId:"unique-account-id"})}),(0,a.jsxs)(c.l0.Group,{controlId:"descriptionID",children:[(0,a.jsx)(c.l0.Label,{children:"* Description"}),(0,a.jsx)(c.l0.Control,{onChange:function(e){return C(e.target.value)},as:"textarea",rows:3})]})]})}),(0,a.jsx)(c.kr.Footer,{bordered:!0,align:"end",children:(0,a.jsx)(c.zx,{onClick:Q,type:"submit",variant:"primary",children:"Submit"})})]})})})},_=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.X2,{children:(0,a.jsx)(c.JX,{md:12,children:(0,a.jsx)(y,{})})})})};_.pageTitle="Acounting / New Accounting",_.activeLink="admin/accounting/chart/new";var j=_}},function(e){e.O(0,[1039,6519,9774,2888,179],(function(){return n=15537,e(e.s=n);var n}));var n=e.O();_N_E=n}]);