(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4741],{64514:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/accounting/chart/[id]",function(){return n(1884)}])},16862:function(t,e,n){"use strict";n.d(e,{M:function(){return u},A:function(){return i}});var a=n(78764),r=n.n(a),c=n(77630),o=n.n(c),u=o()(r().mixin({customClass:{confirmButton:"btn btn-label-success btn-wide mx-1",cancelButton:"btn btn-label-danger btn-wide mx-1"},buttonsStyling:!1})),i=o()(r().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}))},1884:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var a=n(85893),r=n(67294),c=n(59417),o=n(35666),u=n.n(o),i=n(6519),l=n(6154),s=n(16862),d=n(62286),f=n(28367);function p(t,e,n,a,r,c,o){try{var u=t[c](o),i=u.value}catch(l){return void n(l)}u.done?e(i):Promise.resolve(i).then(a,r)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,c=void 0;try{for(var o,u=t[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(i){r=!0,c=i}finally{try{a||null==u.return||u.return()}finally{if(r)throw c}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=n(44364),x=function(t){var e=t.id,n={Authorization:(0,d.parseCookies)().admintoken},o=h(r.useState({}),2),x=o[0],_=o[1],v={color:"red"},g=h(r.useState(""),2),m=g[0],j=g[1],b=h(r.useState(""),2),w=b[0],S=b[1],C=h(r.useState(""),2),I=C[0],k=C[1],A=h(r.useState(""),2),E=A[0],N=A[1],X=h(r.useState(),2),D=X[0],z=X[1],L=h(r.useState(0),2),P=L[0],B=L[1],G=h(r.useState(),2),q=G[0],T=G[1],V=h(r.useState({account:"",account_type:"",account_type_detail:"",name:""}),2),J=V[0],Z=V[1],F=h(r.useState([]),2),O=F[0],M=F[1],R=h(r.useState(),2),H=R[0];R[1];r.useEffect((function(){l.Z.get(f.nt+"/".concat(e),{headers:n}).then((function(t){k(t.data.name),j(t.data.account_type),z(t.data.parent_account),S(t.data.account_type_detail),T(t.data.balance_as_of),B(t.data.balance)})).catch((function(t){console.log(t)}))}),[]),r.useEffect((function(){l.Z.get(f.l2+"/1/0",{headers:n}).then((function(t){for(var e=[],n=0;n<t.data.all.length;n++)e.push({value:t.data.all[n]._id,label:t.data.all[n].name});M(e)})).catch((function(t){var e={account:"",account_type:"",account_type_detail:"",name:""};!y(t.response.data.account)&&(e.account=t.response.data.account),Z(e)}))}),[]),r.useEffect((function(){_({account_type:m,account_type_detail:w,name:I,description:E,balance:P,balance_as_of:q,parent_account:D})}),[m,w,I,E,P,q,D]);var K,Q,U=(K=u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.put(f.xg+"/".concat(e),x,{headers:n}).then((function(t){s.A.fire({icon:"success",title:"Success"}),Z({account:"",account_type:"",account_type_detail:"",name:""})})).catch((function(t){var e={account_type:"",account_type_detail:"",account:"",name:""};console.log(t),!y(t.response.data.account_type)&&(e.account_type=t.response.data.account_type),!y(t.response.data.account_type_detail)&&(e.account_type_detail=t.response.data.account_type_detail),!y(t.response.data.name)&&(e.name=t.response.data.name),Z(e)}));case 2:case"end":return t.stop()}}),t)})),function(){var t=this,e=arguments;return new Promise((function(n,a){var r=K.apply(t,e);function c(t){p(r,n,a,c,o,"next",t)}function o(t){p(r,n,a,c,o,"throw",t)}c(void 0)}))});return(0,a.jsx)(c.X2,{children:(0,a.jsx)(c.JX,{md:"6",children:(0,a.jsxs)(c.kr,{children:[(0,a.jsx)(c.kr.Body,{children:(0,a.jsxs)("div",{className:"d-grid gap-3",children:[(0,a.jsxs)(c.l0.Group,{controlId:"accounttypeID",children:[(0,a.jsx)(c.l0.Label,{children:"* Account type"}),(0,a.jsx)(c.l0.Control,{onChange:function(t){return j(t.target.value)},defaultValue:m,type:"text",size:"lg"}),(0,a.jsx)("p",{style:v,children:J.account_type})]}),(0,a.jsxs)(c.l0.Group,{controlId:"accounttypedetailID",children:[(0,a.jsx)(c.l0.Label,{children:"* Account type detail"}),(0,a.jsx)(c.l0.Control,{onChange:function(t){return S(t.target.value)},defaultValue:w,type:"text",size:"lg"}),(0,a.jsx)("p",{style:v,children:J.account_type_detail})]}),(0,a.jsxs)(c.l0.Group,{controlId:"nameID",children:[(0,a.jsx)(c.l0.Label,{children:"* Name"}),(0,a.jsx)(c.l0.Control,{onChange:function(t){return k(t.target.value)},defaultValue:I,type:"text",size:"lg"})]}),(0,a.jsxs)(c.X2,{children:[(0,a.jsx)(c.JX,{children:(0,a.jsxs)(c.l0.Group,{controlId:"balanceID",children:[(0,a.jsx)(c.l0.Label,{children:" Balance"}),(0,a.jsx)(c.l0.Control,{onChange:function(t){return B(parseInt(t.target.value))},value:(Q=P,isNaN(Q)?0:Q),type:"Number",size:"lg"})]})}),(0,a.jsx)(c.JX,{children:(0,a.jsxs)(c.l0.Group,{controlId:"balanceasofID",children:[(0,a.jsxs)(c.l0.Label,{children:[" as of : ",function(t){return String(t).slice(0,9)}(q)]}),(0,a.jsx)(c.l0.Control,{onChange:function(t){return T(new Date(t.target.value))},type:"date",size:"lg"})]})})]}),(0,a.jsx)("div",{className:"dropdown-container",children:(0,a.jsx)(i.ZP,{options:O,placeholder:"Select Parent Account",value:H,onChange:function(t){z(t.value)},isSearchable:!0,instanceId:"unique-account-id"})}),(0,a.jsxs)(c.l0.Group,{controlId:"descriptionID",children:[(0,a.jsx)(c.l0.Label,{children:"* Description"}),(0,a.jsx)(c.l0.Control,{onChange:function(t){return N(t.target.value)},defaultValue:E,as:"textarea",rows:3})]})]})}),(0,a.jsx)(c.kr.Footer,{bordered:!0,align:"end",children:(0,a.jsx)(c.zx,{onClick:U,type:"submit",variant:"primary",children:"Submit"})})]})})})},_=n(11163);function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,c=void 0;try{for(var o,u=t[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(i){r=!0,c=i}finally{try{a||null==u.return||u.return()}finally{if(r)throw c}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=function(){var t=(0,_.useRouter)(),e=v(r.useState(),2),n=e[0],o=e[1],u=function(){return void 0!==n?(0,a.jsx)(x,{id:t.query.id}):(0,a.jsx)("p",{})};return r.useEffect((function(){if(void 0!=t.query){var e=t.query.id;o(String(e))}}),[t.query]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.X2,{children:(0,a.jsx)(c.JX,{md:12,children:(0,a.jsx)(u,{})})})})};g.pageTitle="Acounting / View Accounting",g.activeLink="admin/accounting/chart/";var m=g}},function(t){t.O(0,[1039,6519,9774,2888,179],(function(){return e=64514,t(t.s=e);var e}));var e=t.O();_N_E=e}]);