(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4235],{26375:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/contract/new",function(){return e(93856)}])},16862:function(n,t,e){"use strict";e.d(t,{M:function(){return c},A:function(){return l}});var r=e(78764),o=e.n(r),a=e(77630),i=e.n(a),c=i()(o().mixin({customClass:{confirmButton:"btn btn-label-success btn-wide mx-1",cancelButton:"btn btn-label-danger btn-wide mx-1"},buttonsStyling:!1})),l=i()(o().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}))},93856:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return p}});var r=e(85893),o=e(67294),a=e(59417),i=e(35666),c=e.n(i),l=e(6154),s=e(16862),u=e(62286),d=e(28367);function h(n,t,e,r,o,a,i){try{var c=n[a](i),l=c.value}catch(s){return void e(s)}c.done?t(l):Promise.resolve(l).then(r,o)}function f(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],r=!0,o=!1,a=void 0;try{for(var i,c=n[Symbol.iterator]();!(r=(i=c.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function(){var n={Authorization:(0,u.parseCookies)().admintoken},t=f(o.useState(""),2),e=t[0],i=t[1],x=f(o.useState(""),2),j=x[0],p=x[1],v=f(o.useState(0),2),g=v[0],m=v[1],b=f(o.useState(""),2),C=b[0],w=b[1],y=f(o.useState(),2),_=y[0],I=y[1],S=f(o.useState(),2),k=S[0],D=S[1],X=f(o.useState(""),2),E=X[0],z=X[1],L=f(o.useState({}),2),N=L[0],G=L[1],A=f(o.useState([]),2),P=A[0],B=A[1],J=f(o.useState([]),2),T=J[0],Z=J[1];o.useEffect((function(){G({client:e,subject:j,contract_type:C,contract_value:g,datestart:_,dateend:k,description:E})}),[e,j,C,g,_,k,E]);o.useEffect((function(){l.Z.get(d.U5,{headers:n}).then((function(n){i(n.data.data[0]._id),B(n.data.data)})).catch((function(n){return console.log(n)}))}),[]),o.useEffect((function(){l.Z.get(d.IY+"/1/0",{headers:n}).then((function(n){Z(n.data.all),w(n.data.all[0]._id)})).catch((function(n){return console.log(n)}))}),[]);var F,O=(F=c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.post(d.Pk,N,{headers:n}).then((function(n){s.A.fire({icon:"success",title:"Success"})})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})),function(){var n=this,t=arguments;return new Promise((function(e,r){var o=F.apply(n,t);function a(n){h(o,e,r,a,i,"next",n)}function i(n){h(o,e,r,a,i,"throw",n)}a(void 0)}))});return(0,r.jsx)(a.X2,{children:(0,r.jsx)(a.JX,{md:"6",children:(0,r.jsxs)(a.kr,{children:[(0,r.jsx)(a.kr.Header,{bordered:!0,children:(0,r.jsx)(a.kr.Addon,{children:(0,r.jsx)("h4",{children:"* Contract Information"})})}),(0,r.jsx)(a.kr.Body,{children:(0,r.jsx)(a.X2,{children:(0,r.jsx)(a.JX,{children:(0,r.jsxs)("div",{className:"d-grid gap-3",children:[(0,r.jsxs)(a.l0.Group,{controlId:"clientID",children:[(0,r.jsx)(a.l0.Label,{children:"*Client"}),(0,r.jsx)(a.l0.Select,{onChange:function(n){return i(n.target.value)},size:"lg",children:P.map((function(n){return(0,r.jsx)("option",{value:n._id,children:n.company},n._id)}))})]}),(0,r.jsxs)(a.l0.Group,{controlId:"subjectID",children:[(0,r.jsx)(a.l0.Label,{children:"*Subject"}),(0,r.jsx)(a.l0.Control,{onChange:function(n){return p(n.target.value)},type:"text",size:"lg"})]}),(0,r.jsxs)(a.l0.Group,{controlId:"contractvalueID",children:[(0,r.jsx)(a.l0.Label,{children:"*Contract value"}),(0,r.jsx)(a.l0.Control,{onChange:function(n){return m(parseInt(n.target.value))},type:"Number",size:"lg"})]}),(0,r.jsxs)(a.l0.Group,{controlId:"contracttypeID",children:[(0,r.jsx)(a.l0.Label,{children:"*Contract type"}),(0,r.jsx)(a.l0.Select,{onChange:function(n){return w(n.target.value)},size:"lg",children:T.map((function(n){return(0,r.jsx)("option",{value:n._id,children:n.name},n._id)}))})]}),(0,r.jsxs)(a.X2,{children:[(0,r.jsx)(a.JX,{children:(0,r.jsxs)(a.l0.Group,{controlId:"startdateID",children:[(0,r.jsx)(a.l0.Label,{children:"*Start Date"}),(0,r.jsx)(a.l0.Control,{onChange:function(n){return I(new Date(n.target.value))},type:"date",size:"lg"})]})}),(0,r.jsx)(a.JX,{children:(0,r.jsxs)(a.l0.Group,{controlId:"enddateID",children:[(0,r.jsx)(a.l0.Label,{children:"*End Date"}),(0,r.jsx)(a.l0.Control,{onChange:function(n){return D(new Date(n.target.value))},type:"date",size:"lg"})]})})]}),(0,r.jsxs)(a.l0.Group,{controlId:"descriptionID",children:[(0,r.jsx)(a.l0.Label,{children:"*Description"}),(0,r.jsx)(a.l0.Control,{onChange:function(n){return z(n.target.value)},as:"textarea",rows:3})]})]})})})}),(0,r.jsx)(a.kr.Footer,{bordered:!0,align:"end",children:(0,r.jsx)(a.zx,{onClick:O,type:"submit",variant:"primary",children:"Submit"})})]})})})},j=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.X2,{children:(0,r.jsx)(a.JX,{md:12,children:(0,r.jsx)(x,{})})})})};j.pageTitle="New Contract",j.activeLink="admin/contract/new";var p=j}},function(n){n.O(0,[1039,9774,2888,179],(function(){return t=26375,n(n.s=t);var t}));var t=n.O();_N_E=t}]);