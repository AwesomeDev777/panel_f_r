(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1967],{85329:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/warehouse/good",function(){return r(38504)}])},38504:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return L}});var t=r(85893),o=r(67294),a=r(55886),s=r(59417),c=r(35666),i=r.n(c),l=r(83461),u=r(99603),d=r(34288),h=r(74544),x=r(60716),p=r(39106),m=r(28367),j=r(41664),f=r(16862);function v(e,n,r,t,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void r(l)}c.done?n(i):Promise.resolve(i).then(t,o)}function y(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function s(e){v(a,t,o,s,c,"next",e)}function c(e){v(a,t,o,s,c,"throw",e)}s(void 0)}))}}function b(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){b(e,n,r[n])}))}return e}var C=function(e){var n=e.onEditSuccess,r=e.goodId,a=(0,o.useState)({vendorName:"",deliveryDate:"",purchaseOrderNumber:"",invoiceNumber:"",warehouseId:{},name:"",description:"",purchasePrice:0,expirationDate:"",quantity:0,totalAmount:0}),c=a[0],l=a[1],x=(0,o.useState)(!1),j=x[0],f=x[1],v=(0,o.useState)([]),C=v[0],w=v[1];(0,o.useEffect)((function(){j&&y(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)("".concat(m.Qp,"/").concat(r),"GET",{});case 2:n=e.sent,l({vendorName:n.vendorName,deliveryDate:n.deliveryDate,purchaseOrderNumber:n.purchaseOrderNumber,invoiceNumber:n.invoiceNumber,warehouseId:n.warehouseId,name:n.name,description:n.description,purchasePrice:n.purchasePrice,expirationDate:n.expirationDate,quantity:n.quantity,totalAmount:n.totalAmount});case 4:case"end":return e.stop()}}),e)})))()}),[j]),(0,o.useEffect)((function(){y(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)(m.kq,"GET",{});case 2:n=e.sent,w(n.all);case 4:case"end":return e.stop()}}),e)})))()}),[]);var N=function(e){l(g({},c,b({},e.target.name,e.target.value)))},k=function(){f(!1)},S=y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)("".concat(m.oe,"/").concat(r),"PUT",g({},c));case 2:k(),n();case 4:case"end":return e.stop()}}),e)})));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.zx,{variant:"label-secondary",className:"ms-2",onClick:function(){f(!0)},children:(0,t.jsx)(u.G,{icon:d.Xcf})}),(0,t.jsxs)(s.u_,{show:j,onHide:k,children:[(0,t.jsxs)(s.u_.Header,{children:[(0,t.jsx)(s.u_.Title,{children:"Edit good"}),(0,t.jsx)(s.zx,{icon:!0,variant:"label-danger",onClick:k,children:(0,t.jsx)(u.G,{icon:h.NBC})})]}),(0,t.jsxs)(s.u_.Body,{children:[(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Name"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"name",placeholder:"Name",onChange:N,value:c.name})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Vendor Name"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"vendorName",onChange:N,placeholder:"Vendor Name",value:c.vendorName})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Warehouse"}),(0,t.jsxs)(s.l0.Select,{onChange:N,name:"warehouseId",size:"lg",value:c.warehouseId._id,children:[(0,t.jsx)("option",{value:"",children:"Select Warehouse"}),C.map((function(e){return(0,t.jsx)("option",{value:e._id,children:e.warehouse_name},e._id)}))]})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Delivery Date"}),(0,t.jsx)(s.l0.Control,{type:"date",name:"deliveryDate",onChange:N,placeholder:"Delivery Date",defaultValue:c.deliveryDate?new Date(c.deliveryDate).toISOString().substring(0,10):""})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Purchase Order Number"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"purchaseOrderNumber",onChange:N,placeholder:"Purchase Order Number",value:c.purchaseOrderNumber})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Invoice Number"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"invoiceNumber",onChange:N,placeholder:"Invoice Number",value:c.invoiceNumber})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Purchase Price"}),(0,t.jsx)(s.l0.Control,{type:"number",name:"purchasePrice",onChange:N,placeholder:"Purchase Price",value:c.purchasePrice})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Quantity"}),(0,t.jsx)(s.l0.Control,{type:"number",name:"quantity",onChange:N,placeholder:"Quantity",value:c.quantity})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Total Amount"}),(0,t.jsx)(s.l0.Control,{type:"number",name:"totalAmount",onChange:N,placeholder:"Total Amount",value:c.totalAmount})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Expiration date"}),(0,t.jsx)(s.l0.Control,{type:"date",name:"expirationDate",onChange:N,placeholder:"Expiration date",defaultValue:c.expirationDate?new Date(c.expirationDate).toISOString().substring(0,10):""})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Description"}),(0,t.jsx)(s.l0.Control,{name:"description",as:"textarea",rows:3,onChange:N,placeholder:"Description",value:c.description})]})]}),(0,t.jsx)(s.u_.Footer,{children:(0,t.jsx)(s.zx,{variant:"secondary",onClick:S,children:"Submit"})})]})]})};function w(e,n,r,t,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void r(l)}c.done?n(i):Promise.resolve(i).then(t,o)}var N=function(e){e.warehouseID;var n=e.goods,r=e.onChangeSort,a=e.onChangeFilter,c=e.onEditSuccess,l=(0,o.useState)({key:"_id",sort:1}),d=l[0],x=l[1],v=(0,o.useState)({key:"",keyword:""}),y=v[0],b=v[1];(0,o.useEffect)((function(){r(d)}),[d]),(0,o.useEffect)((function(){a(y)}),[y]);var g=function(e){var n=1;n=e===d.key&&-1===d.sort?1:-1,x({key:e,sort:n})},N=function(e){""===e.target.value?b({key:"",keyword:""}):b({key:e.target.name,keyword:e.target.value})},k=function(e){var n;f.M.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((n=i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=11;break}return n.prev=1,n.next=4,(0,p.Z)("".concat(m.FM,"/").concat(e),"DELETE",{});case 4:f.M.fire("Deleted!","Successfully deleted.","success"),c(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),f.M.fire("Failure!","Deleting Product is failure, Try again.","error");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(t,o){var a=n.apply(e,r);function s(e){w(a,t,o,s,c,"next",e)}function c(e){w(a,t,o,s,c,"throw",e)}s(void 0)}))}))};return(0,t.jsxs)(s.iA,{responsive:!0,striped:!0,hover:!0,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",children:(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){g("name")},children:["Name","name"===d.key&&-1===d.sort?(0,t.jsx)(u.G,{icon:h.onQ,className:"me-2"}):(0,t.jsx)(u.G,{icon:h.gc2,className:"me-2"})]}),(0,t.jsx)(s.l0.Control,{name:"name",type:"text",onChange:N,size:"sm"})]})}),(0,t.jsx)("th",{scope:"col",children:(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){g("vendorName")},children:["Vendor Name","vendorName"===d.key&&-1===d.sort?(0,t.jsx)(u.G,{icon:h.onQ,className:"me-2"}):(0,t.jsx)(u.G,{icon:h.gc2,className:"me-2"})]}),(0,t.jsx)(s.l0.Control,{name:"vendorName",type:"text",onChange:N,size:"sm"})]})}),(0,t.jsx)("th",{scope:"col",children:(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){g("warehouse")},children:["Warehouse","warehouse"===d.key&&-1===d.sort?(0,t.jsx)(u.G,{icon:h.onQ,className:"me-2"}):(0,t.jsx)(u.G,{icon:h.gc2,className:"me-2"})]}),(0,t.jsx)(s.l0.Control,{name:"warehouse",type:"text",onChange:N,size:"sm"})]})}),(0,t.jsx)("th",{scope:"col",children:(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){g("quantity")},children:["Quantity","quantity"===d.key&&-1===d.sort?(0,t.jsx)(u.G,{icon:h.onQ,className:"me-2"}):(0,t.jsx)(u.G,{icon:h.gc2,className:"me-2"})]}),(0,t.jsx)(s.l0.Control,{name:"quantity",type:"text",onChange:N,size:"sm"})]})})]})}),(0,t.jsx)("tbody",{children:n.map((function(e){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:e.vendorName}),(0,t.jsx)("td",{children:e.quantity}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)(j.default,{href:"/admin/warehouse/good/".concat(e._id),passHref:!0,children:(0,t.jsx)(s.zx,{variant:"label-secondary",className:"ms-2",children:(0,t.jsx)(u.G,{icon:h.Mdf})})}),(0,t.jsx)(C,{onEditSuccess:c,goodId:e._id}),(0,t.jsx)(s.zx,{variant:"label-secondary",className:"ms-2",onClick:function(){k(e._id)},children:(0,t.jsx)(u.G,{icon:h.$aW})})]})})]},e._id)}))})]})};function k(e,n,r,t,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void r(l)}c.done?n(i):Promise.resolve(i).then(t,o)}function S(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function s(e){k(a,t,o,s,c,"next",e)}function c(e){k(a,t,o,s,c,"throw",e)}s(void 0)}))}}function G(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function D(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){G(e,n,r[n])}))}return e}var P=function(e){var n=e.open,r=e.onClose,a=e.onAddSuccess,c=(0,o.useState)({vendorName:"",deliveryDate:(new Date).toISOString(),purchaseOrderNumber:"",invoiceNumber:"",warehouseId:"",name:"",description:"",purchasePrice:0,expirationDate:(new Date).toISOString(),quantity:0,totalAmount:0}),l=c[0],d=c[1],x=(0,o.useState)([]),j=x[0],f=x[1];(0,o.useEffect)((function(){S(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)(m.kq,"GET",{});case 2:n=e.sent,f(n.all);case 4:case"end":return e.stop()}}),e)})))()}),[]);var v=function(e){d(D({},l,G({},e.target.name,e.target.value)))},y=S(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)(m.ds,"POST",D({},l));case 2:a();case 3:case"end":return e.stop()}}),e)})));return(0,t.jsxs)(s.u_,{show:n,onHide:r,children:[(0,t.jsxs)(s.u_.Header,{children:[(0,t.jsx)(s.u_.Title,{children:"Add new good"}),(0,t.jsx)(s.zx,{icon:!0,variant:"label-danger",onClick:r,children:(0,t.jsx)(u.G,{icon:h.NBC})})]}),(0,t.jsxs)(s.u_.Body,{children:[(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Name"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"name",placeholder:"Name",onChange:v})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Vendor Name"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"vendorName",onChange:v,placeholder:"Vendor Name"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Warehouse"}),(0,t.jsxs)(s.l0.Select,{onChange:v,name:"warehouseId",size:"lg",children:[(0,t.jsx)("option",{value:"",children:"Select Warehouse"}),j.map((function(e){return(0,t.jsx)("option",{value:e._id,children:e.warehouse_name},e._id)}))]})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Delivery Date"}),(0,t.jsx)(s.l0.Control,{type:"date",name:"deliveryDate",onChange:v,placeholder:"Delivery Date"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Purchase Order Number"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"purchaseOrderNumber",onChange:v,placeholder:"Purchase Order Number"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Invoice Number"}),(0,t.jsx)(s.l0.Control,{type:"text",name:"invoiceNumber",onChange:v,placeholder:"Invoice Number"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Purchase Price"}),(0,t.jsx)(s.l0.Control,{type:"number",name:"purchasePrice",onChange:v,placeholder:"Purchase Price"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Quantity"}),(0,t.jsx)(s.l0.Control,{type:"number",name:"quantity",onChange:v,placeholder:"Quantity"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Total Amount"}),(0,t.jsx)(s.l0.Control,{type:"number",name:"totalAmount",onChange:v,placeholder:"Total Amount"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Expiration date"}),(0,t.jsx)(s.l0.Control,{type:"date",name:"expirationDate",onChange:v,placeholder:"Expiration date"})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Description"}),(0,t.jsx)(s.l0.Control,{name:"description",as:"textarea",rows:3,onChange:v,placeholder:"Description"})]})]}),(0,t.jsx)(s.u_.Footer,{children:(0,t.jsx)(s.zx,{variant:"secondary",onClick:y,children:"Submit"})})]})};function _(e,n,r,t,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void r(l)}c.done?n(i):Promise.resolve(i).then(t,o)}var O=function(e){var n,r=e.warehouseID,a=(0,o.useState)(!1),c=a[0],j=a[1],f=(0,o.useState)(1),v=f[0],y=f[1],b=(0,o.useState)(10),g=b[0],C=b[1],w=(0,o.useState)([]),k=w[0],S=w[1],G=(0,o.useState)({key:"_id",sort:1}),D=G[0],O=G[1],E=(0,o.useState)({key:"",keyword:""}),L=E[0],I=E[1],A=(0,o.useState)(10),z=A[0],T=A[1],X=(0,o.useState)(0),q=X[0],V=X[1],F=function(){j(!1)},Q=(n=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)("".concat(m.eV,"/").concat(v,"/").concat(z,"/filterKey:").concat(L.key,"/filterValue:").concat(L.keyword,"/sortKey:").concat(D.key,"/sort:").concat(D.sort),"GET",{});case 2:n=e.sent,S(n.all),V(n.length);case 5:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(t,o){var a=n.apply(e,r);function s(e){_(a,t,o,s,c,"next",e)}function c(e){_(a,t,o,s,c,"throw",e)}s(void 0)}))}),Z=function(){F(),Q()};(0,o.useEffect)((function(){C(q/z+1)}),[q,z]),(0,o.useEffect)((function(){Q()}),[v,z,D,L]);var B={activeLinkNumber:v,paginationLength:g,chooseActiveLinkNumber:function(e){y(e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.kr,{children:[(0,t.jsx)(s.kr.Header,{bordered:!0,children:(0,t.jsxs)(s.kr.Addon,{children:[(0,t.jsxs)(s.zx,{variant:"label-secondary",className:"me-2",onClick:function(){j(!0)},children:[(0,t.jsx)(u.G,{icon:h.XSk,className:"me-2"}),"Add new good"]}),(0,t.jsx)(l.CSVLink,{data:k,filename:"products.csv",children:(0,t.jsxs)(s.zx,{variant:"label-secondary",className:"me-2",children:[(0,t.jsx)(u.G,{icon:d.Yjj,className:"me-2"}),"Export CSV"]})}),(0,t.jsx)(s.zx,{variant:"label-secondary",className:"me-2",children:"..."})]})}),(0,t.jsxs)(s.kr.Body,{className:"pb-0",children:[(0,t.jsxs)(s.X2,{children:[(0,t.jsx)(s.JX,{md:2,children:(0,t.jsxs)(s.l0.Select,{id:"sizeID",onChange:function(e){T(e.target.value)},value:z,size:"lg",children:[(0,t.jsx)("option",{value:"10",children:"10"}),(0,t.jsx)("option",{value:"25",children:"25"}),(0,t.jsx)("option",{value:"50",children:"50"}),(0,t.jsx)("option",{value:"100",children:"100"}),(0,t.jsx)("option",{value:"0",children:"All"})]})}),(0,t.jsx)(s.JX,{md:3}),(0,t.jsx)(s.JX,{md:5,children:(0,t.jsx)(x.Z,{pagination:B})})]}),(0,t.jsx)(s.X2,{children:(0,t.jsx)(s.JX,{md:12})}),(0,t.jsx)(N,{warehouseID:r,onChangeFilter:function(e){I(e)},onChangeSort:function(e){O(e)},goods:k,onEditSuccess:Z})]}),(0,t.jsx)(s.kr.Footer,{children:(0,t.jsxs)(s.X2,{children:[(0,t.jsx)(s.JX,{md:5}),(0,t.jsx)(s.JX,{md:5,children:(0,t.jsx)(x.Z,{pagination:B})}),(0,t.jsx)(s.JX,{md:5})]})})]}),(0,t.jsx)(P,{open:c,onClose:F,onAddSuccess:Z})]})},E=function(){var e=(0,o.useState)(""),n=e[0],r=(e[1],(0,o.useState)(""));r[0],r[1];return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.X2,{children:(0,t.jsx)(s.JX,{md:"12",children:(0,t.jsx)(O,{warehouseID:n})})})})};E.pageTitle="Warehouse Good Receipt",E.activeLink="warehouseGoodReceipt";var L=(0,a.Z)(E)}},function(e){e.O(0,[1039,5937,9774,2888,179],(function(){return n=85329,e(e.s=n);var n}));var n=e.O();_N_E=n}]);