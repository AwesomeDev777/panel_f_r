(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{68287:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/warehouse/inventory",function(){return t(82508)}])},82508:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var r=t(85893),o=t(67294),a=t(55886),s=t(59417),c=t(35666),i=t.n(c),l=t(74544),u=t(99603),d=t(6154),h=t(11163),x=t(62286),j=t(28367),m=t(34288),p=t(16862);function f(e,n,t,r,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void t(l)}c.done?n(i):Promise.resolve(i).then(r,o)}function _(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function s(e){f(a,r,o,s,c,"next",e)}function c(e){f(a,r,o,s,c,"throw",e)}s(void 0)}))}}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(i){o=!0,a=i}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=t(44364),w=function(e){(0,h.useRouter)();var n={Authorization:(0,x.parseCookies)().admintoken},t={color:"red"},a=v(o.useState(1e-6),2),c=a[0],f=a[1],w=v(o.useState(""),2),C=w[0],k=w[1],g=v(o.useState(""),2),b=g[0],I=g[1],S=v(o.useState([]),2),G=S[0],N=S[1];o.useEffect((function(){var e,n;G.length>0&&""===C&&(k(null===(e=G[0])||void 0===e?void 0:e._id),I(null===(n=G[0])||void 0===n?void 0:n.warehouse_name))}),[G]),o.useEffect((function(){e.id({warehouse_ID:C,warehouse_Name:b})}),[C,b]);var D=function(){p.A.fire({icon:"success",title:"Success!"})},E=function(e){return(0,r.jsx)(s.zx,{variant:"label-secondary",className:"ms-2",onClick:function(){p.M.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&d.Z.delete(j.D7+"/".concat(e.id),{headers:n}).then((function(e){f(Math.random()),p.M.fire("Deleted!","That Warehouse has been deleted.","success")})).catch((function(e){return console.log(e)}))}))},children:(0,r.jsx)(u.G,{icon:l.G8P})})};o.useEffect((function(){d.Z.get(j.kq,{headers:n}).then((function(e){N(e.data.all)})).catch((function(e){return console.log(e)}))}),[c]);var L=function(){var e=v(o.useState(!1),2),a=e[0],c=e[1],h=v(o.useState({}),2),x=h[0],m=h[1],p=v(o.useState({name:"",code:""}),2),w=p[0],C=p[1],k=v(o.useState(""),2),g=k[0],b=k[1],I=v(o.useState(""),2),S=I[0],G=I[1],N=v(o.useState(""),2),E=N[0],L=N[1];o.useEffect((function(){m({warehouse_code:g,warehouse_name:S,warehouse_address:E})}),[g,S,E]);var z=function(){return c(!1)},O=_(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.post(j.uj,x,{headers:n}).then((function(e){D(),C({name:"",code:""}),f(Math.random())})).catch((function(e){var n={name:"",code:""};!y(e.response.data.warehouse_code)&&(n.code=e.response.data.warehouse_code),!y(e.response.data.warehouse_name)&&(n.name=e.response.data.warehouse_name),C(n)}));case 2:case"end":return e.stop()}}),e)})));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.zx,{variant:"label-secondary",size:"lg",onClick:function(){return c(!0)},children:[(0,r.jsx)(u.G,{icon:l.zVD,className:"me-2"}),"Warehouse +"]}),(0,r.jsxs)(s.u_,{show:a,onHide:z,children:[(0,r.jsxs)(s.u_.Header,{children:[(0,r.jsx)(s.u_.Title,{children:"Add a Warehouse"}),(0,r.jsx)(s.zx,{icon:!0,variant:"label-danger",onClick:z,children:(0,r.jsx)(u.G,{icon:l.NBC})})]}),(0,r.jsxs)(s.u_.Body,{children:[(0,r.jsxs)(s.l0.Group,{controlId:"warehouse_code_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Code"}),(0,r.jsx)(s.l0.Control,{type:"text",onChange:function(e){return b(e.target.value)},placeholder:"123456"}),(0,r.jsx)("p",{style:t,children:w.code})]}),(0,r.jsxs)(s.l0.Group,{controlId:"warehouse_name_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Name"}),(0,r.jsx)(s.l0.Control,{type:"text",onChange:function(e){return G(e.target.value)},placeholder:"warehouse 1"}),(0,r.jsx)("p",{style:t,children:w.name})]}),(0,r.jsxs)(s.l0.Group,{controlId:"warehouse_address_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Address"}),(0,r.jsx)(s.l0.Control,{type:"text",onChange:function(e){return L(e.target.value)},placeholder:"Address. 1, Hlazunova Street Kyiv - 42, Ukraine, 01601."})]})]}),(0,r.jsx)(s.u_.Footer,{children:(0,r.jsx)(s.zx,{variant:"primary",onClick:O,children:"Submit"})})]})]})},z=function(e){var a=v(o.useState(!1),2),c=a[0],h=a[1],x=v(o.useState({}),2),p=x[0],w=x[1],C=v(o.useState({name:"",code:""}),2),k=C[0],g=C[1],b=v(o.useState(""),2),I=b[0],S=b[1],G=v(o.useState(""),2),N=G[0],E=G[1],L=v(o.useState(""),2),z=L[0],O=L[1],P=function(){return h(!1)};o.useEffect((function(){1==c&&d.Z.get(j.T+"/".concat(e.id),{headers:n}).then((function(e){E(e.data.warehouse_name),S(e.data.warehouse_code),O(e.data.warehouse_address)})).catch((function(e){console.log(e)}))}),[c]),o.useEffect((function(){w({warehouse_code:I,warehouse_name:N,warehouse_address:z})}),[I,N,z]);var B=_(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.Z.put(j.$B+"/".concat(e.id),p,{headers:n}).then((function(e){D(),g({name:"",code:""}),f(Math.random())})).catch((function(e){var n={name:"",code:""};!y(e.response.data.warehouse_code)&&(n.code=e.response.data.warehouse_code),!y(e.response.data.warehouse_name)&&(n.name=e.response.data.warehouse_name),g(n)}));case 2:case"end":return t.stop()}}),t)})));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{variant:"label-secondary",className:"ms-2",onClick:function(){return h(!0)},children:(0,r.jsx)(u.G,{icon:m.Xcf})}),(0,r.jsxs)(s.u_,{show:c,onHide:P,children:[(0,r.jsxs)(s.u_.Header,{children:[(0,r.jsx)(s.u_.Title,{children:N}),(0,r.jsx)(s.zx,{icon:!0,variant:"label-danger",onClick:P,children:(0,r.jsx)(u.G,{icon:l.NBC})})]}),(0,r.jsxs)(s.u_.Body,{children:[(0,r.jsxs)(s.l0.Group,{controlId:"warehouse_code_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Code"}),(0,r.jsx)(s.l0.Control,{type:"text",defaultValue:I,onChange:function(e){return S(e.target.value)}}),(0,r.jsx)("p",{style:t,children:k.code})]}),(0,r.jsxs)(s.l0.Group,{controlId:"warehouse_name_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Name"}),(0,r.jsx)(s.l0.Control,{type:"text",defaultValue:N,onChange:function(e){return E(e.target.value)}}),(0,r.jsx)("p",{style:t,children:k.name})]}),(0,r.jsxs)(s.l0.Group,{controlId:"warehouse_address_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Address"}),(0,r.jsx)(s.l0.Control,{type:"text",defaultValue:z,onChange:function(e){return O(e.target.value)}})]})]}),(0,r.jsx)(s.u_.Footer,{children:(0,r.jsx)(s.zx,{variant:"primary",onClick:B,children:"Submit"})})]})]})};return(0,r.jsxs)(s.kr,{noMargin:!0,children:[(0,r.jsx)(s.kr.Header,{children:(0,r.jsx)(s.kr.Title,{children:(0,r.jsx)("div",{className:"d-grid gap-2",children:(0,r.jsx)(L,{})})})}),(0,r.jsx)(s.kr.Body,{children:(0,r.jsx)(s.TY,{children:G.map((function(e){return(0,r.jsx)(s.TY.Item,{as:s.Of,bordered:!0,children:(0,r.jsxs)(s.Of.Item,{children:[(0,r.jsx)(s.Of.Content,{style:{cursor:"pointer"},onClick:function(){return n=[e._id,e.warehouse_name],k(n[0]),void I(n[1]);var n},children:(0,r.jsx)(s.Of.Paragraph,{children:e.warehouse_name})}),(0,r.jsxs)(s.Of.Addon,{addonType:"append",children:[(0,r.jsx)(z,{id:e._id}),(0,r.jsx)(E,{id:e._id})]})]})},e._id)}))})})]})},C=t(83461),k=t(60716),g=t(39106);function b(e,n,t,r,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void t(l)}c.done?n(i):Promise.resolve(i).then(r,o)}function I(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function s(e){b(a,r,o,s,c,"next",e)}function c(e){b(a,r,o,s,c,"throw",e)}s(void 0)}))}}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}var N=function(e){var n=e.onEditSuccess,t=e.productId,a=(0,o.useState)({code:"",bin_location:"",comment:"",initial_stock:0,name:"",expiration_date:(new Date).toISOString(),current_stock:0,last_withdrawal:0}),c=a[0],d=a[1],h=(0,o.useState)(!1),x=h[0],p=h[1];(0,o.useEffect)((function(){x&&I(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.Z)("".concat(j.jl,"/").concat(t),"GET",{});case 2:n=e.sent,d({code:n.code,bin_location:n.bin_location,comment:n.comment,initial_stock:n.initial_stock,name:n.name,expiration_date:n.expiration_date,current_stock:n.current_stock,last_withdrawal:n.last_withdrawal});case 4:case"end":return e.stop()}}),e)})))()}),[x]);var f=function(e){d(G({},c,S({},e.target.name,e.target.value)))},_=function(){p(!1)},v=I(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.Z)("".concat(j.Ai,"/").concat(t),"PUT",G({},c));case 2:_(),n();case 4:case"end":return e.stop()}}),e)})));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{variant:"label-secondary",className:"ms-2",onClick:function(){p(!0)},children:(0,r.jsx)(u.G,{icon:m.Xcf})}),(0,r.jsxs)(s.u_,{show:x,onHide:_,children:[(0,r.jsxs)(s.u_.Header,{children:[(0,r.jsx)(s.u_.Title,{children:"Edit product"}),(0,r.jsx)(s.zx,{icon:!0,variant:"label-danger",onClick:_,children:(0,r.jsx)(u.G,{icon:l.NBC})})]}),(0,r.jsxs)(s.u_.Body,{children:[(0,r.jsxs)(s.l0.Group,{controlId:"code_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Code"}),(0,r.jsx)(s.l0.Control,{type:"text",name:"code",placeholder:"Code",onChange:f,value:c.code})]}),(0,r.jsxs)(s.l0.Group,{controlId:"name_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Name"}),(0,r.jsx)(s.l0.Control,{type:"text",name:"name",onChange:f,placeholder:"Name",value:c.name})]}),(0,r.jsxs)(s.l0.Group,{controlId:"bin_location_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Bin Location"}),(0,r.jsx)(s.l0.Control,{type:"text",name:"bin_location",onChange:f,placeholder:"Bin location",value:c.bin_location})]}),(0,r.jsxs)(s.l0.Group,{controlId:"expiration_data_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Expiration date"}),(0,r.jsx)(s.l0.Control,{type:"date",name:"expiration_date",onChange:f,defaultValue:c.expiration_date?new Date(c.expiration_date).toISOString().substring(0,10):""})]}),(0,r.jsxs)(s.l0.Group,{controlId:"initial_stock_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Initial Stock"}),(0,r.jsx)(s.l0.Control,{type:"Number",name:"initial_stock",onChange:f,value:c.initial_stock})]}),(0,r.jsxs)(s.l0.Group,{controlId:"current_stock_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Current Stock"}),(0,r.jsx)(s.l0.Control,{type:"Number",name:"current_stock",onChange:f,value:c.current_stock})]}),(0,r.jsxs)(s.l0.Group,{controlId:"last_withdrawal_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Last Withdrawal"}),(0,r.jsx)(s.l0.Control,{type:"Number",name:"last_withdrawal",onChange:f,value:c.last_withdrawal})]}),(0,r.jsxs)(s.l0.Group,{controlId:"comment_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Comment"}),(0,r.jsx)(s.l0.Control,{name:"comment",as:"textarea",rows:3,onChange:f,placeholder:"Comment",value:c.comment})]})]}),(0,r.jsx)(s.u_.Footer,{children:(0,r.jsx)(s.zx,{variant:"secondary",onClick:v,children:"Submit"})})]})]})};function D(e,n,t,r,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void t(l)}c.done?n(i):Promise.resolve(i).then(r,o)}var E=function(e){e.warehouseID;var n=e.products,t=e.onChangeSort,a=e.onChangeFilter,c=e.onEditSuccess,d=(0,o.useState)({key:"unique_id",sort:1}),h=d[0],x=d[1],m=(0,o.useState)({key:"",keyword:""}),f=m[0],_=m[1];(0,o.useEffect)((function(){t(h)}),[h]),(0,o.useEffect)((function(){a(f)}),[f]);var v=function(e){var n=1;n=e===h.key&&-1===h.sort?1:-1,x({key:e,sort:n})},y=function(e){""===e.target.value?_({key:"",keyword:""}):_({key:e.target.name,keyword:e.target.value})},w=function(e){var n;p.M.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((n=i().mark((function n(t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isConfirmed){n.next=11;break}return n.prev=1,n.next=4,(0,g.Z)("".concat(j.ne,"/").concat(e),"DELETE",{});case 4:p.M.fire("Deleted!","Successfully deleted.","success"),c(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),p.M.fire("Failure!","Deleting Product is failure, Try again.","error");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function s(e){D(a,r,o,s,c,"next",e)}function c(e){D(a,r,o,s,c,"throw",e)}s(void 0)}))}))};return(0,r.jsxs)(s.iA,{responsive:!0,striped:!0,hover:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_unique_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("unique_id")},children:["Product ID","unique_id"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{name:"unique_id",type:"text",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_code_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("code")},children:["Code","code"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{name:"code",type:"text",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_name_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("name")},children:["Name","name"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{name:"name",type:"text",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_bin_location_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("bin_location")},children:["Bin location","bin_location"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{name:"bin_location",type:"text",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_expiration_date_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("expiration_date")},children:["Expiration date","expiration_date"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{name:"expiration_date",type:"Date",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_initial_stock_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("initial_stock")},children:["Initial stock","initial_stock"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{name:"initial_stock",type:"Number",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_current_stock_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("current_stock")},children:["Current stock","current_stock"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{name:"current_stock",type:"Number",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsxs)(s.l0.Group,{controlId:"th_last_withdrawal_ID",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){v("last_withdrawal")},children:["Last withdrawal","last_withdrawal"===h.key&&-1===h.sort?(0,r.jsx)(u.G,{icon:l.onQ,className:"me-2"}):(0,r.jsx)(u.G,{icon:l.gc2,className:"me-2"})]}),(0,r.jsx)(s.l0.Control,{type:"Number",name:"last_withdrawal",onChange:y,size:"sm"})]})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsx)(s.l0.Group,{controlId:"th_comment_ID",children:(0,r.jsx)("span",{style:{cursor:"pointer"},children:"Comment"})})}),(0,r.jsx)("th",{scope:"col",children:(0,r.jsx)(s.l0.Group,{controlId:"th_action_ID",children:(0,r.jsx)("span",{style:{cursor:"pointer"},children:"Action"})})})]})}),(0,r.jsx)("tbody",{children:n.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.unique_id}),(0,r.jsx)("td",{children:e.code}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.bin_location}),(0,r.jsx)("td",{children:new Date(e.expiration_date).toLocaleDateString()}),(0,r.jsx)("td",{children:e.initial_stock}),(0,r.jsx)("td",{children:e.current_stock}),(0,r.jsx)("td",{children:e.last_withdrawal}),(0,r.jsx)("td",{children:e.comment}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{style:{display:"flex"},children:[(0,r.jsx)(N,{onEditSuccess:c,productId:e._id}),(0,r.jsx)(s.zx,{variant:"label-secondary",className:"ms-2",onClick:function(){w(e._id)},children:(0,r.jsx)(u.G,{icon:l.$aW})})]})})]},e._id)}))})]})};function L(e,n,t,r,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void t(l)}c.done?n(i):Promise.resolve(i).then(r,o)}function z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){z(e,n,t[n])}))}return e}var P=function(e){var n,t=e.open,a=e.onClose,c=e.warehouseID,d=e.onAddSuccess,h=(0,o.useState)({code:"",bin_location:"",comment:"",initial_stock:0,name:""}),x=h[0],m=h[1],p=function(e){m(O({},x,z({},e.target.name,e.target.value)))},f=(n=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.Z)(j.vU,"POST",O({warehouse_ID:c},x));case 2:e.sent,d();case 4:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function s(e){L(a,r,o,s,c,"next",e)}function c(e){L(a,r,o,s,c,"throw",e)}s(void 0)}))});return(0,r.jsxs)(s.u_,{show:t,onHide:a,children:[(0,r.jsxs)(s.u_.Header,{children:[(0,r.jsx)(s.u_.Title,{children:"Add new product"}),(0,r.jsx)(s.zx,{icon:!0,variant:"label-danger",onClick:a,children:(0,r.jsx)(u.G,{icon:l.NBC})})]}),(0,r.jsxs)(s.u_.Body,{children:[(0,r.jsxs)(s.l0.Group,{controlId:"code_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Code"}),(0,r.jsx)(s.l0.Control,{type:"text",name:"code",placeholder:"Code",onChange:p})]}),(0,r.jsxs)(s.l0.Group,{controlId:"name_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Name"}),(0,r.jsx)(s.l0.Control,{type:"text",name:"name",onChange:p,placeholder:"Name"})]}),(0,r.jsxs)(s.l0.Group,{controlId:"bin_location_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Bin Location"}),(0,r.jsx)(s.l0.Control,{type:"text",name:"bin_location",onChange:p,placeholder:"Bin location"})]}),(0,r.jsxs)(s.l0.Group,{controlId:"expiration_data_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Expiration date"}),(0,r.jsx)(s.l0.Control,{type:"date",name:"expiration_date",onChange:p})]}),(0,r.jsxs)(s.l0.Group,{controlId:"initial_stock_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Initial Stock"}),(0,r.jsx)(s.l0.Control,{type:"Number",name:"initial_stock",onChange:p})]}),(0,r.jsxs)(s.l0.Group,{controlId:"comment_ID",children:[(0,r.jsx)(s.l0.Label,{children:"Comment"}),(0,r.jsx)(s.l0.Control,{name:"comment",as:"textarea",rows:3,onChange:p,placeholder:"Comment"})]})]}),(0,r.jsx)(s.u_.Footer,{children:(0,r.jsx)(s.zx,{variant:"secondary",onClick:f,children:"Submit"})})]})};function B(e,n,t,r,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void t(l)}c.done?n(i):Promise.resolve(i).then(r,o)}var T=function(e){var n,t=e.warehouseID,a=e.warehouseName,c=(0,o.useState)(!1),d=c[0],h=c[1],x=(0,o.useState)(1),p=x[0],f=x[1],_=(0,o.useState)(10),v=_[0],y=_[1],w=(0,o.useState)([]),b=w[0],I=w[1],S=(0,o.useState)({key:"unique_id",sort:1}),G=S[0],N=S[1],D=(0,o.useState)({key:"",keyword:""}),L=D[0],z=D[1],O=(0,o.useState)(10),T=O[0],A=O[1],X=(0,o.useState)(0),F=X[0],H=X[1],Z=function(){h(!1)},J=(n=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.Z)("".concat(j.uk,"/").concat(p,"/").concat(T,"/warehouse:").concat(t,"/filterKey:").concat(L.key,"/filterValue:").concat(L.keyword,"/sortKey:").concat(G.key,"/sort:").concat(G.sort),"GET",{});case 2:n=e.sent,I(n.all),H(n.length);case 5:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function s(e){B(a,r,o,s,c,"next",e)}function c(e){B(a,r,o,s,c,"throw",e)}s(void 0)}))}),M=function(){Z(),J()};(0,o.useEffect)((function(){y(F/T+1)}),[F,T]),(0,o.useEffect)((function(){J()}),[p,T,G,L,t]);var q={activeLinkNumber:p,paginationLength:v,chooseActiveLinkNumber:function(e){f(e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.kr,{children:[(0,r.jsxs)(s.kr.Header,{bordered:!0,children:[(0,r.jsx)(s.kr.Title,{children:a}),(0,r.jsxs)(s.kr.Addon,{children:[(0,r.jsxs)(s.zx,{variant:"label-secondary",className:"me-2",onClick:function(){h(!0)},children:[(0,r.jsx)(u.G,{icon:l.XSk,className:"me-2"}),"Add new product"]}),(0,r.jsx)(C.CSVLink,{data:b,filename:"products.csv",children:(0,r.jsxs)(s.zx,{variant:"label-secondary",className:"me-2",children:[(0,r.jsx)(u.G,{icon:m.Yjj,className:"me-2"}),"Export CSV"]})}),(0,r.jsx)(s.zx,{variant:"label-secondary",className:"me-2",children:"..."})]})]}),(0,r.jsxs)(s.kr.Body,{className:"pb-0",children:[(0,r.jsxs)(s.X2,{children:[(0,r.jsx)(s.JX,{md:2,children:(0,r.jsxs)(s.l0.Select,{id:"sizeID",onChange:function(e){A(e.target.value)},value:T,size:"lg",children:[(0,r.jsx)("option",{value:"10",children:"10"}),(0,r.jsx)("option",{value:"25",children:"25"}),(0,r.jsx)("option",{value:"50",children:"50"}),(0,r.jsx)("option",{value:"100",children:"100"}),(0,r.jsx)("option",{value:"0",children:"All"})]})}),(0,r.jsx)(s.JX,{md:3}),(0,r.jsx)(s.JX,{md:5,children:(0,r.jsx)(k.Z,{pagination:q})})]}),(0,r.jsx)(s.X2,{children:(0,r.jsx)(s.JX,{md:12})}),(0,r.jsx)(E,{warehouseID:t,onChangeFilter:function(e){z(e)},onChangeSort:function(e){N(e)},products:b,onEditSuccess:M})]}),(0,r.jsx)(s.kr.Footer,{children:(0,r.jsxs)(s.X2,{children:[(0,r.jsx)(s.JX,{md:5}),(0,r.jsx)(s.JX,{md:5,children:(0,r.jsx)(k.Z,{pagination:q})}),(0,r.jsx)(s.JX,{md:5})]})})]}),(0,r.jsx)(P,{open:d,onClose:Z,warehouseID:t,onAddSuccess:M})]})},A=function(){var e=(0,o.useState)(""),n=e[0],t=e[1],a=(0,o.useState)(""),c=a[0],i=a[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.X2,{children:[(0,r.jsx)(s.JX,{md:"3",children:(0,r.jsx)(w,{id:function(e){t(e.warehouse_ID),i(e.warehouse_Name)}})}),(0,r.jsx)(s.JX,{md:"9",children:(0,r.jsx)(T,{warehouseID:n,warehouseName:c})})]})})};A.pageTitle="Warehouse Inventory History",A.activeLink="warehouseInventoryHistory";var X=(0,a.Z)(A)}},function(e){e.O(0,[1039,5937,9774,2888,179],(function(){return n=68287,e(e.s=n);var n}));var n=e.O();_N_E=n}]);