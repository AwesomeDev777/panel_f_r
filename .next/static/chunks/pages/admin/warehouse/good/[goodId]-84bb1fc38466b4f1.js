(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9310],{19458:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/warehouse/good/[goodId]",function(){return r(72909)}])},74114:function(e,n,r){"use strict";var t=r(35666),a=r.n(t),i=r(62286),o=r.n(i),s=r(28367),c=r(6154);function u(e,n,r,t,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?n(c):Promise.resolve(c).then(t,a)}var d,l=(d=a().mark((function e(n){var r,t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o().get(n),void 0!==(t={Authorization:r.admintoken}).Authorization){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,(0,c.Z)({url:s.v3,method:"GET",headers:t});case 8:if((i=e.sent).data&&"Unauthorized"!=i.data){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",i.data);case 12:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,t){var a=d.apply(e,n);function i(e){u(a,r,t,i,o,"next",e)}function o(e){u(a,r,t,i,o,"throw",e)}i(void 0)}))});n.Z=l},55886:function(e,n,r){"use strict";var t=r(35666),a=r.n(t),i=r(85893),o=(r(67294),r(11163)),s=r(74114),c=r(85004);function u(e,n,r,t,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?n(c):Promise.resolve(c).then(t,a)}function d(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){d(e,n,r[n])}))}return e}n.Z=function(e){var n,r=function(n){return(0,i.jsx)(e,l({},n))};return r.getInitialProps=(n=a().mark((function n(r){var t,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.getInitialProps){n.next=6;break}return n.next=3,e.getInitialProps(r);case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0={};case 7:return t=n.t0,n.next=10,(0,s.Z)(r);case 10:if(i=n.sent){n.next=14;break}return r.res?(r.res.writeHead(302,{Location:c.Z.AdminloginPagePath}),r.res.end()):o.default.push(c.Z.AdminloginPagePath),n.abrupt("return",l({},t,{userData:null}));case 14:return n.abrupt("return",l({},t,{userData:i}));case 15:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var i=n.apply(e,r);function o(e){u(i,t,a,o,s,"next",e)}function s(e){u(i,t,a,o,s,"throw",e)}o(void 0)}))}),Object.assign(r,e)}},72909:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return w}});var t=r(85893),a=r(67294),i=r(11163),o=r(55886),s=r(59417),c=r(35666),u=r.n(c),d=r(99603),l=r(74544),h=r(39106),f=r(28367);function p(e,n,r,t,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?n(c):Promise.resolve(c).then(t,a)}function x(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var i=e.apply(n,r);function o(e){p(i,t,a,o,s,"next",e)}function s(e){p(i,t,a,o,s,"throw",e)}o(void 0)}))}}function v(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function j(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){v(e,n,r[n])}))}return e}var m=function(e){var n=e.goodId,r=(0,a.useState)({}),i=r[0],o=r[1],c=(0,a.useState)([]),p=c[0],m=c[1],b=(0,a.useState)(!1),w=b[0],g=b[1],y=(0,a.useState)({date:(new Date).toISOString(),description:""}),D=y[0],P=y[1],k=x(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Z)("".concat(f.gA,"/").concat(n),"GET",{});case 2:r=e.sent,m(r.all);case 4:case"end":return e.stop()}}),e)})));(0,a.useEffect)((function(){x(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Z)("".concat(f.Qp,"/").concat(n),"GET",{});case 2:r=e.sent,o(r),k();case 5:case"end":return e.stop()}}),e)})))()}),[n]);var O=function(){g(!w)},S=function(e){P(j({},D,v({},e.target.name,e.target.value)))},I=x(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Z)(f.Y2,"POST",j({},D,{goodId:n}));case 2:P({date:(new Date).toISOString(),description:""}),O(),k();case 5:case"end":return e.stop()}}),e)})));return(0,t.jsxs)(s.kr,{children:[(0,t.jsxs)(s.kr.Header,{children:[(0,t.jsx)(s.kr.Icon,{children:(0,t.jsx)(d.G,{icon:l.hEy})}),(0,t.jsx)(s.kr.Title,{children:"Good Details"})]}),(0,t.jsx)(s.kr.Body,{children:(0,t.jsxs)(s.X2,{children:[(0,t.jsxs)(s.JX,{md:6,sm:12,children:[(0,t.jsxs)("h4",{children:["Name: ",i.name||""]}),(0,t.jsxs)("h4",{children:["Vendor Name: ",i.vendorName||""]}),(0,t.jsxs)("h4",{children:["Warehouse:"," ",i.warehouseId?i.warehouseId.warehouse_name:""]}),(0,t.jsxs)("h4",{children:["Delivery Datae:"," ",new Date(i.deliveryDate).toLocaleDateString()||""]}),(0,t.jsxs)("h4",{children:["Purchase Order Number: ",i.purchaseOrderNumber||""]}),(0,t.jsxs)("h4",{children:["Invoice Number: ",i.invoiceNumber||""]}),(0,t.jsxs)("h4",{children:["Purchase Price: ",i.purchasePrice||""]}),(0,t.jsxs)("h4",{children:["Expiration Datae:"," ",i.expirationDate?new Date(i.expirationDate).toLocaleDateString():""]}),(0,t.jsxs)("h4",{children:["Quantity: ",i.quantity||""]}),(0,t.jsxs)("h4",{children:["Total Amount: ",i.totalAmount||""]}),(0,t.jsx)("h4",{children:"Description: "}),(0,t.jsx)("h4",{children:i.description||""})]}),(0,t.jsxs)(s.JX,{md:6,sm:12,children:[(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)("h4",{children:"Manage Quality"}),(0,t.jsx)(s.zx,{variant:"label-secondary",className:"ms-4",onClick:O,children:(0,t.jsx)(d.G,{icon:w?l.YIN:l.XSk})})]}),w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Delivery Date"}),(0,t.jsx)(s.l0.Control,{type:"date",name:"date",onChange:S,placeholder:"Date",defaultValue:D.date?new Date(D.date).toISOString().substring(0,10):""})]}),(0,t.jsxs)(s.l0.Group,{children:[(0,t.jsx)(s.l0.Label,{children:"Description"}),(0,t.jsx)(s.l0.Control,{name:"description",as:"textarea",rows:3,onChange:S,placeholder:"Description",value:D.description})]}),(0,t.jsx)(s.zx,{variant:"secondary",onClick:I,className:"my-2",children:"Submit"})]}),(0,t.jsx)("div",{className:"my-4",children:p.map((function(e,n){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.TY.Item,{as:s.Of,bordered:!0,children:(0,t.jsx)(s.Of.Item,{children:(0,t.jsxs)(s.Of.Content,{style:{cursor:"pointer"},children:[(0,t.jsxs)("h3",{children:["Report ",n+1]}),(0,t.jsxs)("h3",{children:["Report ",n+1]}),(0,t.jsxs)("h4",{children:["Reported Date:"," ",new Date(e.date).toLocaleDateString()]}),(0,t.jsx)("h4",{children:"Description:"}),(0,t.jsx)("h4",{children:e.description})]})})},e._id)})}))})]})]})})]})},b=function(){var e=(0,i.useRouter)().query;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.X2,{children:(0,t.jsx)(s.JX,{md:"12",children:(0,t.jsx)(m,{goodId:e.goodId})})})})};b.pageTitle="Warehouse Good Detail",b.activeLink="warehouseGoodReceipt";var w=(0,o.Z)(b)},39106:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(6154),a=r(62286),i=r(44364),o=r.n(i),s={Authorization:(0,a.parseCookies)().admintoken};function c(e,n,r){return new Promise((function(a,i){(0,t.Z)({url:e,method:n,data:r,headers:s}).then((function(e){a(e.data)})).catch((function(e){o()(e.response.data)||("Unauthorized"===e.response.data?a(e.response.data):i(e)),i(e)}))}))}}},function(e){e.O(0,[9774,2888,179],(function(){return n=19458,e(e.s=n);var n}));var n=e.O();_N_E=n}]);